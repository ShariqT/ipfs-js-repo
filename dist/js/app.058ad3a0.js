(()=>{var e={44924:(e,t,s)=>{"use strict";var n=s(20144),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("IpfsNode")],1)},a=[],o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{directives:[{name:"show",rawName:"v-show",value:"Not Connected"==this.status,expression:"this.status == 'Not Connected'"}]},[s("button",{on:{click:function(t){return e.start()}}},[e._v("Connect To IPFS")]),e._v(" "),s("span",[e._v(e._s(this.status))])]),s("div",{directives:[{name:"show",rawName:"v-show",value:"Ready"==this.status,expression:"this.status == 'Ready'"}]},[s("div",[e._v(e._s(this.identity))]),s("button",{on:{click:function(t){return e.showPeers()}}},[e._v("Show Peers")]),e._v(" "),s("span",[e._v(e._s(this.readPeerStatus))]),s("div",[e._v(e._s(e.messageLog))]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.messages,expression:"messages"}],domProps:{value:e.messages},on:{input:function(t){t.target.composing||(e.messages=t.target.value)}}}),s("button",{on:{click:function(t){return e.sendMessage()}}},[e._v("Send")])])])},i=[],u=s(68101),c=s.n(u);let d={identity:null,status:"Connecting...",node:null};async function l(e={}){try{const t=await c().create(e);d.node=t;const{id:s}=await t.id();return d.identity=s,d.status="Ready",d}catch(t){return d.status="Error connecting to IPFS "+t.toString(),d}}var h=s(70040),p=s.n(h),g=s(29846),b=s.n(g),v=s(25108);const f=b().prototype[Symbol.toStringTag],m={name:"IpfsNode",data:function(){return{identity:null,status:"Not Connected",node:null,readPeerStatus:"",subscribedHashtag:"com.lob.www:dtwitter-poc",messages:"",messageLog:"",messageListener:null,gunDB:null}},methods:{start:function(){const e=this,t={repo:"ipfs-twitter-"+Math.random(),EXPERIMENTAL:{pubsub:!0},config:{Addresses:{Swarm:["/dns4/pure-sierra-28952.herokuapp.com/tcp/443/wss/p2p-webrtc-star"]},Bootstrap:["/dns4/149.28.87.35/tcp/4012/ws/p2p/12D3KooWCbYZPBcNLav3vu6iYr8yR3wLDr4j196seP73Xr88WKBy"]},libp2p:{config:{transport:{[f]:{filter:p().all}}}}};l(t).then((function(t){v.log(t),e.status=t.status,e.identity=t.identity,e.node=t.node,e.subscribeToHashtag()}))},showPeers:async function(){v.log("showing peers");try{let e=null;this.readPeerStatus="Loading",e=""==this.subscribedHashtag?await this.node.swarm.peers():await this.node.pubsub.peers(this.subscribedHashtag),v.log(e),this.readPeerStatus="Success"}catch(e){this.readPeerStatus="Error: "+e.toString()}},subscribeToHashtag:async function(){v.log(this.subscribedHashtag);try{await this.node.pubsub.subscribe(this.subscribedHashtag,this.handleMessage)}catch(e){v.log(e),this.subscribedHashtag="Failed to join "+this.subscribedHashtag}},handleMessage:async function(e){v.log(e);let t=e.data;v.log(t),this.messageLog=this.messageLog+t},sendMessage:async function(){v.log("sendig...");try{await this.node.pubsub.publish(this.subscribedHashtag,this.messages)}catch(e){v.error(e)}}}},w=m;var y=s(90862),_=(0,y.Z)(w,o,i,!1,null,null,null);const S=_.exports,P={name:"App",components:{IpfsNode:S}},O=P;var j=(0,y.Z)(O,r,a,!1,null,null,null);const T=j.exports;n.Z.config.productionTip=!1,new n.Z({render:e=>e(T)}).$mount("#app")},43094:()=>{},69159:()=>{},35883:()=>{},89214:()=>{},5696:()=>{},85568:()=>{},42246:()=>{},47005:()=>{},26937:()=>{},26784:()=>{},88795:()=>{},89408:()=>{},87017:()=>{},74056:()=>{},57600:()=>{},21724:()=>{},39370:()=>{},62678:()=>{},25819:()=>{},52361:()=>{},94616:()=>{}},t={};function s(n){var r=t[n];if(void 0!==r)return r.exports;var a=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(a.exports,a,a.exports,s),a.loaded=!0,a.exports}s.m=e,(()=>{var e=[];s.O=(t,n,r,a)=>{if(!n){var o=1/0;for(d=0;d<e.length;d++){for(var[n,r,a]=e[d],i=!0,u=0;u<n.length;u++)(!1&a||o>=a)&&Object.keys(s.O).every((e=>s.O[e](n[u])))?n.splice(u--,1):(i=!1,a<o&&(o=a));if(i){e.splice(d--,1);var c=r();void 0!==c&&(t=c)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[n,r,a]}})(),(()=>{s.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return s.d(t,{a:t}),t}})(),(()=>{s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}})(),(()=>{s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{s.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{s.nmd=e=>(e.paths=[],e.children||(e.children=[]),e)})(),(()=>{var e={143:0};s.O.j=t=>0===e[t];var t=(t,n)=>{var r,a,[o,i,u]=n,c=0;if(o.some((t=>0!==e[t]))){for(r in i)s.o(i,r)&&(s.m[r]=i[r]);if(u)var d=u(s)}for(t&&t(n);c<o.length;c++)a=o[c],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return s.O(d)},n=globalThis["webpackChunkipfs_js_repo"]=globalThis["webpackChunkipfs_js_repo"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var n=s.O(void 0,[998],(()=>s(44924)));n=s.O(n)})();
//# sourceMappingURL=app.058ad3a0.js.map